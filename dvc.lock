schema: '2.0'
stages:
  dataset-creation:
    cmd: python scripts/create_dataset.py
    deps:
    - path: scripts/create_dataset.py
      md5: da1f6143e26452d9d89f4b0b5b6a226d
      size: 955
    outs:
    - path: assets/data
      md5: 3382d907973192143c085a3b7d5ed2e4.dir
      size: 2082423
      nfiles: 2
  features-extraction:
    cmd: python scripts/extract_features.py
    deps:
    - path: scripts/extract_features.py
      md5: 161f1dbfae863c9250f66354110fc346
      size: 1356
    outs:
    - path: assets/features
      md5: 4ef44f4aa3a39778fca2ff924a399180.dir
      size: 1277386
      nfiles: 4
  train-random-forest:
    cmd: python scripts/train_model.py
    deps:
    - path: assets/features/train_features.csv
      md5: 62c55534848dfda8ddf615d7842d21ff
      size: 995432
    - path: assets/features/train_labels.csv
      md5: dee9ea3871abf6ce8c0a3671c1439653
      size: 26176
    outs:
    - path: assets/models
      md5: 492c0f147eba1c876ba205ab0c209016.dir
      size: 94604059
      nfiles: 1
  evaluate-random-forest:
    cmd: python scripts/eval_model.py
    deps:
    - path: assets/features/test_features.csv
      md5: 77e62b7604a9264bb86f8efeaf9828e3
      size: 249221
    - path: assets/features/test_labels.csv
      md5: 3a3436aa34b25017b9b6401dd492010b
      size: 6557
    - path: assets/models/model.pk
      md5: 9185ddc2b0baa46fc17c0b21d19f165a
      size: 94604059
    outs:
    - path: assets/metrics.json
      md5: 35eedf08d727011832ecf3079a651cb9
      size: 97
  train-logistic-regression:
    cmd: python scripts/train_model.py
    deps:
    - path: assets/features/train_features.csv
      md5: 62c55534848dfda8ddf615d7842d21ff
      size: 995432
    - path: assets/features/train_labels.csv
      md5: dee9ea3871abf6ce8c0a3671c1439653
      size: 26176
    outs:
    - path: assets/models_v2
      md5: 988b82f8100aa9b9ea7885e84309b8c9.dir
      size: 20744
      nfiles: 1
  evaluate-linear-regression:
    cmd: python scripts/eval_model.py
    deps:
    - path: assets/features/test_features.csv
      md5: 77e62b7604a9264bb86f8efeaf9828e3
      size: 249221
    - path: assets/features/test_labels.csv
      md5: 3a3436aa34b25017b9b6401dd492010b
      size: 6557
    - path: assets/models_v2/model_v2.pk
      md5: 4f70f320df4418e0cbde4cedfa95b1d0
      size: 20744
    outs:
    - path: assets/metrics_v2.json
      md5: af7766bdea0492cfe367a680b463918d
      size: 64
